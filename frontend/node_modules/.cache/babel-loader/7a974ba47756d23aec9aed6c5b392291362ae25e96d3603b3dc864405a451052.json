{"ast":null,"code":"var _jsxFileName = \"C:\\\\MERN\\\\Social_media\\\\frontend\\\\src\\\\Components\\\\Newpost\\\\Newpost.js\",\n  _s = $RefreshSig$();\nimport { Button, Typography } from \"@mui/material\";\nimport \"./Newpost.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useAlert } from \"react-alert\";\nimport { createNewPost } from \"../../Actions/Post\";\nimport { loadUser } from \"../../Actions/Users\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Newpost = () => {\n  _s();\n  const [image, setImage] = useState(null);\n  const [caption, setCaption] = useState(\"\");\n  const {\n    loading,\n    error,\n    message\n  } = useSelector(state => state.like);\n  const alert = useAlert();\n  const dispatch = useDispatch();\n  const handleImage = e => {\n    const files = e.target.files[0];\n    const Reader = new FileReader();\n    Reader.readAsDataURL(files);\n    Reader.onload = e => {\n      if (Reader.readyState === 2) {\n        setImage(Reader.result);\n      }\n    };\n  };\n  const submitHandler = async e => {\n    e.preventDefault();\n    await dispatch(createNewPost(caption, image));\n    dispatch(loadUser());\n  };\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch({\n        type: \"clearErrors\"\n      });\n    }\n    if (message) {\n      alert.success(message);\n      dispatch({\n        type: \"clearMessage\"\n      });\n      setImage(null);\n      setCaption(\"\");\n    }\n  }, [dispatch, error, message, alert]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"newPost\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"newPostForm\",\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        style: {\n          alignSelf: \"center\",\n          margin: \"2vmax\",\n          fontWeight: 300\n        },\n        variant: \"h4\",\n        children: \"New Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), image && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image,\n        alt: \"post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        placeholder: \"uploadfile\",\n        onChange: handleImage,\n        id: \"image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"caption...\",\n        value: caption,\n        onChange: e => setCaption(e.target.value),\n        id: \"caption\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        disabled: loading,\n        children: \"Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(Newpost, \"IXjlL6F40mA05S3kA/ps4P8ea2I=\", false, function () {\n  return [useSelector, useAlert, useDispatch];\n});\n_c = Newpost;\nexport default Newpost;\nvar _c;\n$RefreshReg$(_c, \"Newpost\");","map":{"version":3,"names":["Button","Typography","React","useEffect","useState","useDispatch","useSelector","useAlert","createNewPost","loadUser","jsxDEV","_jsxDEV","Newpost","_s","image","setImage","caption","setCaption","loading","error","message","state","like","alert","dispatch","handleImage","e","files","target","Reader","FileReader","readAsDataURL","onload","readyState","result","submitHandler","preventDefault","type","success","className","children","onSubmit","style","alignSelf","margin","fontWeight","variant","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","accept","placeholder","onChange","id","value","disabled","_c","$RefreshReg$"],"sources":["C:/MERN/Social_media/frontend/src/Components/Newpost/Newpost.js"],"sourcesContent":["import { Button, Typography } from \"@mui/material\";\r\nimport \"./Newpost.css\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { createNewPost } from \"../../Actions/Post\";\r\nimport { loadUser } from \"../../Actions/Users\";\r\n\r\nconst Newpost = () => {\r\n  const [image, setImage] = useState(null);\r\n  const [caption, setCaption] = useState(\"\");\r\n  const { loading, error, message } = useSelector((state) => state.like);\r\n  const alert = useAlert();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleImage = (e) => {\r\n    const files = e.target.files[0];\r\n\r\n    const Reader = new FileReader();\r\n\r\n    Reader.readAsDataURL(files);\r\n\r\n    Reader.onload = (e) => {\r\n      if (Reader.readyState === 2) {\r\n        setImage(Reader.result);\r\n      }\r\n    };\r\n  };\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    await dispatch(createNewPost(caption, image));\r\n    dispatch(loadUser());\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      alert.error(error);\r\n      dispatch({\r\n        type: \"clearErrors\",\r\n      });\r\n    }\r\n\r\n    if (message) {\r\n      alert.success(message);\r\n      dispatch({\r\n        type: \"clearMessage\",\r\n      });\r\n      setImage(null);\r\n      setCaption(\"\");\r\n    }\r\n  }, [dispatch, error, message, alert]);\r\n\r\n  return (\r\n    <div className=\"newPost\">\r\n      <form className=\"newPostForm\" onSubmit={submitHandler}>\r\n        <Typography\r\n          style={{ alignSelf: \"center\", margin: \"2vmax\", fontWeight: 300 }}\r\n          variant=\"h4\"\r\n        >\r\n          New Post\r\n        </Typography>\r\n        {image && <img src={image} alt=\"post\" />}\r\n        <input\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          placeholder=\"uploadfile\"\r\n          onChange={handleImage}\r\n          id=\"image\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"caption...\"\r\n          value={caption}\r\n          onChange={(e) => setCaption(e.target.value)}\r\n          id=\"caption\"\r\n        />\r\n        <Button type=\"submit\" disabled={loading}>\r\n          Post\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Newpost;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}